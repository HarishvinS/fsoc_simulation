{% extends "base.html" %}

{% block title %}FSOC Link Optimization - Simulate Link{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h3>Simulate FSOC Link</h3>
            </div>
            <div class="card-body">
                <form method="POST" action="/simulate">
                    <div class="row">
                        <!-- Transmitter Section -->
                        <div class="col-md-6">
                            <h4>Transmitter</h4>
                            <div class="mb-3">
                                <label for="lat_tx" class="form-label">Latitude (degrees)</label>
                                <input type="number" step="0.0001" class="form-control" id="lat_tx" name="lat_tx" required min="-90" max="90" value="37.7749">
                            </div>
                            <div class="mb-3">
                                <label for="lon_tx" class="form-label">Longitude (degrees)</label>
                                <input type="number" step="0.0001" class="form-control" id="lon_tx" name="lon_tx" required min="-180" max="180" value="-122.4194">
                            </div>
                            <div class="mb-3">
                                <label for="height_tx" class="form-label">Height (meters)</label>
                                <input type="number" step="0.1" class="form-control" id="height_tx" name="height_tx" required min="1" max="1000" value="20">
                            </div>
                            <div class="mb-3">
                                <label for="material_tx" class="form-label">Mount Material</label>
                                <select class="form-select" id="material_tx" name="material_tx" required>
                                    <option value="white_paint">White Paint</option>
                                    <option value="black_paint">Black Paint</option>
                                    <option value="aluminum">Aluminum</option>
                                    <option value="steel">Steel</option>
                                    <option value="concrete">Concrete</option>
                                    <option value="wood">Wood</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Receiver Section -->
                        <div class="col-md-6">
                            <h4>Receiver</h4>
                            <div class="mb-3">
                                <label for="lat_rx" class="form-label">Latitude (degrees)</label>
                                <input type="number" step="0.0001" class="form-control" id="lat_rx" name="lat_rx" required min="-90" max="90" value="37.7849">
                            </div>
                            <div class="mb-3">
                                <label for="lon_rx" class="form-label">Longitude (degrees)</label>
                                <input type="number" step="0.0001" class="form-control" id="lon_rx" name="lon_rx" required min="-180" max="180" value="-122.4094">
                            </div>
                            <div class="mb-3">
                                <label for="height_rx" class="form-label">Height (meters)</label>
                                <input type="number" step="0.1" class="form-control" id="height_rx" name="height_rx" required min="1" max="1000" value="15">
                            </div>
                            <div class="mb-3">
                                <label for="material_rx" class="form-label">Mount Material</label>
                                <select class="form-select" id="material_rx" name="material_rx" required>
                                    <option value="white_paint">White Paint</option>
                                    <option value="black_paint">Black Paint</option>
                                    <option value="aluminum" selected>Aluminum</option>
                                    <option value="steel">Steel</option>
                                    <option value="concrete">Concrete</option>
                                    <option value="wood">Wood</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <!-- Environmental Conditions -->
                    <div class="row">
                        <div class="col-md-12">
                            <h4>Environmental Conditions</h4>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="fog_density" class="form-label">Fog Density (g/m³)</label>
                                <input type="number" step="0.1" class="form-control" id="fog_density" name="fog_density" required min="0" max="10" value="0.5">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="rain_rate" class="form-label">Rain Rate (mm/hr)</label>
                                <input type="number" step="0.1" class="form-control" id="rain_rate" name="rain_rate" required min="0" max="200" value="2.0">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="surface_temp" class="form-label">Surface Temp (°C)</label>
                                <input type="number" step="0.1" class="form-control" id="surface_temp" name="surface_temp" required min="-40" max="80" value="25">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="ambient_temp" class="form-label">Ambient Temp (°C)</label>
                                <input type="number" step="0.1" class="form-control" id="ambient_temp" name="ambient_temp" required min="-40" max="60" value="20">
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <!-- System Parameters -->
                    <div class="row">
                        <div class="col-md-12">
                            <h4>System Parameters</h4>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="wavelength_nm" class="form-label">Wavelength (nm)</label>
                                <input type="number" step="1" class="form-control" id="wavelength_nm" name="wavelength_nm" min="800" max="2000" value="1550">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="tx_power_dbm" class="form-label">Transmitter Power (dBm)</label>
                                <input type="number" step="0.1" class="form-control" id="tx_power_dbm" name="tx_power_dbm" min="-10" max="50" value="20">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="detailed_output" name="detailed_output">
                        <label class="form-check-label" for="detailed_output">Include detailed layer-by-layer results</label>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="reset" class="btn btn-secondary">Reset</button>
                        <button type="submit" class="btn btn-primary">Run Simulation</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}